{% extends 'layout/master.html' %}
{% block main %}
<!DOCTYPE html>
<html>
<head>
  <title></title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
</head>
<body>
<div class="card" style="width: 80rem;margin:50px;">
  <div class="card-body" style="text-align: center;">
    <h5 class="card-title">Get Movie Details</h5>
    <p class="card-text">Sorted By</p>
    <div class="container">
    <div class="row">
        <div class="col-sm-3"><a href="/sort_by_name" class="btn btn-primary stretched-link">Name</a>
    </div>
    <div class="col-sm-3"><a href="/sort_by_rating" class="btn btn-secondary stretched-link">Rating</a>
    </div>
    <div class="col-sm-3"><a href="/sort_by_release_date" class="btn btn-success stretched-link">Release Date</a>
    </div>
    <div class="col-sm-3"> <a href="/sort_by_duration" class="btn btn-warning stretched-link">Duration</a></div>  
    </div>
    </div>
  </div>
</div>
<table class="table">
  <thead class="">
    <tr>
      <th>Id</th>
      <th>Movie Title</th>
      <th>Movie Rating</th>
      <th>Release Date</th>
      <th>Movie Duration</th>
      <th>Movie Description</th>
    </tr>
  </thead>
  <tbody>
    {% for x in data1 %}
    <tr>
      <td>{{x.id}}</td>
      <td>{{x.movie_title}}</td>
      <td>{{x.movie_rating}}</td>
      <td>{{x.movie_release_date}}</td>
      <td>{{x.movie_duration}} Mins</td>
      <td>{{x.movie_description}}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
</body>
</html>
<script type="text/javascript">
  const searchFocus = document.getElementById('search-focus');
const keys = [
  { keyCode: 'AltLeft', isTriggered: false },
  { keyCode: 'ControlLeft', isTriggered: false },
];

window.addEventListener('keydown', (e) => {
  keys.forEach((obj) => {
    if (obj.keyCode === e.code) {
      obj.isTriggered = true;
    }
  });

  const shortcutTriggered = keys.filter((obj) => obj.isTriggered).length === keys.length;

  if (shortcutTriggered) {
    searchFocus.focus();
  }
});

window.addEventListener('keyup', (e) => {
  keys.forEach((obj) => {
    if (obj.keyCode === e.code) {
      obj.isTriggered = false;
    }
  });
});
</script>
{% endblock %}